TODO: limit on how many array elements are used.
TODO: reallocate on heap for high enough numbers